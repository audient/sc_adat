
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ADAT Transmit &mdash; S/PDIF 1v0 documentation</title>
    <link rel="stylesheet" href="_static/xdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1v0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://mathjax.connectmv.com/MathJax.js"></script>
    <script type="text/javascript" src="_static/xcomment.js"></script>
    <link rel="top" title="S/PDIF 1v0 documentation" href="index.html" />
    <link rel="prev" title="ADAT Receive" href="api-rx.html" /> 

<script>
function setheight() {
h1 = document.getElementById('d1').style.height;
h2 = document.getElementById('d2').style.height;

if (parseInt(h1) > parseInt(h2)) {
document.getElementById('d2').style.height=h1 + "px";
}
else {
document.getElementById('d1').style.height=h2 + "px";
}

}
</script>
</head>

<body onload="setheight();">

  

    <div class="document" id='d1'>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
<div style="float: right">
<a href="api-rx.html"
                        title="previous chapter"> &lt&lt </a>
</div>

            
  <div class="section" id="adat-transmit">
<h1>ADAT Transmit<a class="headerlink" href="#adat-transmit" title="Permalink to this headline">¶</a></h1>
<p>There are two modules that can produce an ADAT signal. The simplest
module is a single thread that receives samples over a channel and that
outputs data on the port, and the other module has a thread that receives
samples over a channel and it produces the output on a channel. The latter
is useful if the ADAT output port is on a different core.</p>
<p>The modules use the same protocol: the first word transmitted over the
chanend should be the multiplier of the master clock (either 1024 or 512),
the second word should be the smux (either 0 or 2), then there should be N
x 8 words of sample values, terminated by an END control token. If no
control token is sent, the transmission process will not terminate, and an
infinite stream of ADAT data can be sent.</p>
<p>The multiplier is the ratio between the master clock and the bit-rate; 1024
refers to a 49.152 Mhz masterclock, 512 assumes a 24.576 MHz master clock.</p>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<p><em>This section is to be completed</em></p>
<dl class="function">
<dt id="adat_tx">
void <tt class="descname">adat_tx</tt><big>(</big>chanend<em>&nbsp;c_data</em>, chanend<em>&nbsp;c_port</em><big>)</big><a class="headerlink" href="#adat_tx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="adat_tx_port">
void <tt class="descname">adat_tx_port</tt><big>(</big>chanend<em>&nbsp;c_data</em>, buffered out port:32<em>&nbsp;p_data</em><big>)</big><a class="headerlink" href="#adat_tx_port" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>An example program is shown below:</p>
<div class="highlight-none"><div class="highlight"><pre>TBC.
</pre></div>
</div>
</div>
</div>



          </div>
        </div>
      </div>
      <div class="sphinxsidebar" id='d2'>
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">S/PDIF (1v0)</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="summary.html">ADAT software</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-rx.html">ADAT Receive</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">ADAT Transmit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api">API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none;margin-bottom: 10px;">
  <h3>Search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>



    <div class="footer">
    </div>
  </body>
</html>



